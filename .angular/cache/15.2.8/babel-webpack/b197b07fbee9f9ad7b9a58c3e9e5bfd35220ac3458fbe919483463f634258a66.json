{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./agendamento.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/login/login-service.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AgendamentoComponent_section_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 29)(1, \"div\", 30)(2, \"h1\", 31);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.barbeariaSelecionada.nome);\n  }\n}\nfunction AgendamentoComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r2.barbeariaSelecionada._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.barbeariaSelecionada.nome);\n  }\n}\nfunction AgendamentoComponent_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const servico_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", servico_r6._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(servico_r6.nome);\n  }\n}\nfunction AgendamentoComponent_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dia_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", dia_r7.dia);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(dia_r7.dia);\n  }\n}\nfunction AgendamentoComponent_option_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const hora_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", hora_r8.hora);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(hora_r8.hora);\n  }\n}\nexport class AgendamentoComponent {\n  constructor(agendamentoService, router, activatedRoute, loginService) {\n    this.agendamentoService = agendamentoService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.loginService = loginService;\n    // IMPORTANDO AS INTERFACE\n    this.servicos = [];\n    this.dias = [];\n    this.horas = [];\n    this.cliente = [];\n    this.barbeariaSelecionada = null;\n    this.barbearias = \"\";\n    this.dia = \"\";\n    this.hora = \"\";\n    this.servico = \"\";\n    this.clientes = \"\";\n    this.nome = '';\n    this.email = '';\n  }\n  // Exibindo no HTML os documentos\n  ngOnInit() {\n    this.agendamentoService.getServicos().subscribe(servicos => {\n      this.servicos = servicos;\n    });\n    this.agendamentoService.getDias().subscribe(dias => {\n      this.dias = dias;\n    });\n    this.agendamentoService.getHoras().subscribe(horas => {\n      this.horas = horas;\n    });\n    const barbeariaId = this.activatedRoute.snapshot.params['id'];\n    if (barbeariaId) {\n      this.agendamentoService.getBarbearia(barbeariaId).subscribe(barbearia => {\n        this.barbeariaSelecionada = barbearia;\n      });\n    }\n  }\n  // Envia o formulário para o MongoDB\n  onSubmit(form) {\n    this.dia = form.value.dia;\n    this.hora = form.value.hora;\n    this.servico = form.value.servico;\n    this.barbearias = form.value.barbearias;\n    this.nome = form.value.nome;\n    this.email = form.value.email;\n    let agenda = {\n      barbearias: this.barbearias,\n      dia: this.dia,\n      hora: this.hora,\n      servicos: this.servico,\n      nome: this.nome,\n      email: this.email\n    };\n    this.agendamentoService.newAgendamento(agenda).subscribe(response => {\n      console.log(response);\n      alert('Serviço agendado');\n    }, error => {\n      console.log(error);\n      alert('Ocorreu um erro ao agendar');\n    });\n  }\n}\nAgendamentoComponent.ɵfac = function AgendamentoComponent_Factory(t) {\n  return new (t || AgendamentoComponent)(i0.ɵɵdirectiveInject(i1.AgendamentoService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.LoginServiceService));\n};\nAgendamentoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AgendamentoComponent,\n  selectors: [[\"app-agendamento\"]],\n  decls: 47,\n  vars: 11,\n  consts: [[\"charset\", \"utf-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1, shrink-to-fit=no\"], [\"rel\", \"stylesheet\", \"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css\"], [1, \"container\"], [1, \"text-center\", \"mt-5\"], [1, \"appointment\", \"mt-4\"], [\"class\", \"info\", 4, \"ngIf\"], [1, \"mt-4\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"barbearia-info\"], [\"for\", \"barbearia\"], [\"name\", \"barbearias\", \"id\", \"barbearias\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngIf\"], [1, \"form-group\", \"mt-4\"], [\"for\", \"email\"], [\"type\", \"text\", \"name\", \"email\", \"id\", \"email\", \"placeholder\", \"Digite o e-mail\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"name\", \"nome\", \"id\", \"nome\", \"required\", \"\", \"placeholder\", \"Digite o nome\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"servico\"], [\"name\", \"servico\", \"id\", \"servico\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"calendar\", \"mt-4\"], [1, \"date\"], [\"name\", \"dia\", \"id\", \"dia\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [1, \"time\", \"mt-2\"], [\"for\", \"horario\"], [\"name\", \"hora\", \"id\", \"hora\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-4\"], [1, \"info\"], [1, \"barbearia\"], [1, \"text-center\"], [3, \"value\"]],\n  template: function AgendamentoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r9 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"html\")(1, \"head\");\n      i0.ɵɵelement(2, \"meta\", 0)(3, \"meta\", 1);\n      i0.ɵɵelementStart(4, \"title\");\n      i0.ɵɵtext(5, \"Barber Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"link\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"body\")(8, \"div\", 3)(9, \"h1\", 4);\n      i0.ɵɵtext(10, \"Barber Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 5);\n      i0.ɵɵtemplate(12, AgendamentoComponent_section_12_Template, 4, 1, \"section\", 6);\n      i0.ɵɵelementStart(13, \"form\", 7, 8);\n      i0.ɵɵlistener(\"ngSubmit\", function AgendamentoComponent_Template_form_ngSubmit_13_listener() {\n        i0.ɵɵrestoreView(_r9);\n        const _r1 = i0.ɵɵreference(14);\n        return i0.ɵɵresetView(ctx.onSubmit(_r1));\n      });\n      i0.ɵɵelementStart(15, \"div\", 9)(16, \"label\", 10);\n      i0.ɵɵtext(17, \"Barbearia:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"select\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AgendamentoComponent_Template_select_ngModelChange_18_listener($event) {\n        return ctx.barbearias = $event;\n      });\n      i0.ɵɵtemplate(19, AgendamentoComponent_option_19_Template, 2, 2, \"option\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 13)(21, \"label\", 14);\n      i0.ɵɵtext(22, \"E-mail:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function AgendamentoComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 16)(25, \"label\", 17);\n      i0.ɵɵtext(26, \"Nome:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function AgendamentoComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.nome = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 9)(29, \"label\", 19);\n      i0.ɵɵtext(30, \"Servi\\u00E7o:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"select\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function AgendamentoComponent_Template_select_ngModelChange_31_listener($event) {\n        return ctx.servico = $event;\n      });\n      i0.ɵɵtemplate(32, AgendamentoComponent_option_32_Template, 2, 2, \"option\", 21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"div\", 22)(34, \"h4\");\n      i0.ɵɵtext(35, \"Selecione o dia e hor\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 23)(37, \"select\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function AgendamentoComponent_Template_select_ngModelChange_37_listener($event) {\n        return ctx.dia = $event;\n      });\n      i0.ɵɵtemplate(38, AgendamentoComponent_option_38_Template, 2, 2, \"option\", 21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 25)(40, \"label\", 26);\n      i0.ɵɵtext(41, \"Hor\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"div\", 23)(43, \"select\", 27);\n      i0.ɵɵlistener(\"ngModelChange\", function AgendamentoComponent_Template_select_ngModelChange_43_listener($event) {\n        return ctx.hora = $event;\n      });\n      i0.ɵɵtemplate(44, AgendamentoComponent_option_44_Template, 2, 2, \"option\", 21);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"button\", 28);\n      i0.ɵɵtext(46, \"Finalizar agendamento\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", ctx.barbeariaSelecionada);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.barbearias);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.barbeariaSelecionada);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.nome);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.servico);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.servicos);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.dia);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.dias);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.hora);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.horas);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2xpZW50ZXMvYWdlbmRhbWVudG8vYWdlbmRhbWVudG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtGRyIsInNvdXJjZXNDb250ZW50IjpbIi8qIC5jb250YWluZXIge1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogMjBweDtcbn1cblxuaDEge1xuICBmb250LXNpemU6IDM2cHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5hcHBvaW50bWVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuaDIge1xuICBmb250LXNpemU6IDI0cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi5iYXJiZWFyaWEtaW5mbyB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbmxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbnNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLmNhbGVuZGFyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG5oNCB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLmRhdGUge1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4uZGF0ZSBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBtYXJnaW46IDA7XG59XG5cbi50aW1lIGxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi5idG4tYWdlbmRhciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XG4gIGJvcmRlcjogbm9uZTtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59ICovXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AgendamentoComponent","constructor","agendamentoService","router","activatedRoute","loginService","ngOnInit","getServicos","subscribe","servicos","getDias","dias","getHoras","horas","barbeariaId","snapshot","params","getBarbearia","barbearia","barbeariaSelecionada","onSubmit","form","dia","value","hora","servico","barbearias","nome","email","agenda","newAgendamento","response","console","log","alert","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\jpoli\\Downloads\\Barbearia-master\\src\\app\\clientes\\agendamento\\agendamento.component.html","C:\\Users\\jpoli\\Downloads\\Barbearia-master\\src\\app\\clientes\\agendamento\\agendamento.component.ts"],"sourcesContent":["<!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n  <title>Barber Time</title>\r\n  <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css\">\r\n</head>\r\n\r\n<body>\r\n  <div class=\"container\">\r\n    <h1 class=\"text-center mt-5\">Barber Time</h1>\r\n    <div class=\"appointment mt-4\">\r\n      <section class=\"info\" *ngIf=\"barbeariaSelecionada\">\r\n        <div class=\"barbearia\">\r\n          <h1 class=\"text-center\">{{ barbeariaSelecionada.nome }}</h1>\r\n        </div>\r\n      </section>\r\n\r\n      <form #f=\"ngForm\" (ngSubmit)=\"onSubmit(f)\" class=\"mt-4\">\r\n        <div class=\"barbearia-info\">\r\n          <label for=\"barbearia\">Barbearia:</label>\r\n          <select [(ngModel)]=\"barbearias\" name=\"barbearias\" id=\"barbearias\" class=\"form-select\">\r\n            <option *ngIf=\"barbeariaSelecionada\" [value]=\"barbeariaSelecionada._id\">{{ barbeariaSelecionada.nome }}</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-4\">\r\n          <label for=\"email\">E-mail:</label>\r\n          <input type=\"text\" name=\"email\" id=\"email\" [(ngModel)]=\"email\" class=\"form-control\" placeholder=\"Digite o e-mail\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label for=\"nome\">Nome:</label>\r\n          <input type=\"text\" name=\"nome\" id=\"nome\" [(ngModel)]=\"nome\" required class=\"form-control\" placeholder=\"Digite o nome\">\r\n        </div>\r\n\r\n        <div class=\"barbearia-info\">\r\n          <label for=\"servico\">Serviço:</label>\r\n          <select [(ngModel)]=\"servico\" name=\"servico\" id=\"servico\" class=\"form-select\">\r\n            <option *ngFor=\"let servico of servicos\" [value]=\"servico._id\">{{ servico.nome }}</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"calendar mt-4\">\r\n          <h4>Selecione o dia e horário:</h4>\r\n          <div class=\"date\">\r\n            <select [(ngModel)]=\"dia\" name=\"dia\" id=\"dia\" class=\"form-select\">\r\n              <option *ngFor=\"let dia of dias\" [value]=\"dia.dia\">{{ dia.dia }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"time mt-2\">\r\n            <label for=\"horario\">Horário:</label>\r\n            <div class=\"date\">\r\n              <select [(ngModel)]=\"hora\" name=\"hora\" id=\"hora\" class=\"form-select\">\r\n                <option *ngFor=\"let hora of horas\" [value]=\"hora.hora\">{{ hora.hora }}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary mt-4\">Finalizar agendamento</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js\"></script>\r\n</body>\r\n\r\n</html>\r\n","import { Component } from '@angular/core';\r\nimport { Servicos } from './servicos_agendar';\r\nimport { AgendamentoService } from './agendamento.service';\r\nimport { Dias } from './dia';\r\nimport { Horas } from './hora';\r\nimport { Agenda } from './agendar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LoginServiceService } from 'src/app/login/login-service.service';\r\nimport { cliente } from '../clientes';\r\nimport { Barbearia } from './barbearia';\r\nimport { LoginComponent } from 'src/app/login/login.component';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-agendamento',\r\n  templateUrl: './agendamento.component.html',\r\n  styleUrls: ['./agendamento.component.css']\r\n})\r\nexport class AgendamentoComponent {\r\n\r\n  // IMPORTANDO AS INTERFACE\r\n  servicos: Servicos[] = [];\r\n  dias: Dias[] = [];\r\n  horas: Horas[] = [];\r\n  cliente: cliente[] = []\r\n  \r\n\r\n  barbeariaSelecionada: Barbearia | null = null;\r\n  barbearias: string = \"\";\r\n  dia: string = \"\";\r\n  hora: string = \"\";\r\n  servico: string = \"\";\r\n  clientes: string = \"\"\r\n  nome: string = ''\r\n  email: string = ''\r\n\r\n\r\n \r\n\r\n  constructor(\r\n    private agendamentoService: AgendamentoService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private loginService: LoginServiceService\r\n  ) {}\r\n\r\n  // Exibindo no HTML os documentos\r\n  ngOnInit() {\r\n    this.agendamentoService.getServicos().subscribe(servicos => {\r\n      this.servicos = servicos;\r\n    });\r\n\r\n    this.agendamentoService.getDias().subscribe(dias => {\r\n      this.dias = dias;\r\n    });\r\n\r\n    this.agendamentoService.getHoras().subscribe(horas => {\r\n      this.horas = horas;\r\n    });\r\n\r\n   \r\n  \r\n  \r\n\r\n    const barbeariaId = this.activatedRoute.snapshot.params['id'];\r\n    if (barbeariaId) {\r\n      this.agendamentoService.getBarbearia(barbeariaId).subscribe(barbearia => {\r\n        this.barbeariaSelecionada = barbearia;\r\n      });\r\n    }\r\n  }\r\n\r\n  // Envia o formulário para o MongoDB\r\n  onSubmit(form: any) {\r\n    this.dia = form.value.dia;\r\n    this.hora = form.value.hora;\r\n    this.servico = form.value.servico;\r\n    this.barbearias = form.value.barbearias;\r\n    this.nome = form.value.nome\r\n    this.email = form.value.email\r\n\r\n\r\n    let agenda: Agenda = {\r\n      barbearias: this.barbearias,\r\n      dia: this.dia,\r\n      hora: this.hora,\r\n      servicos: this.servico,\r\n      nome: this.nome,\r\n      email: this.email\r\n    };\r\n\r\n    this.agendamentoService.newAgendamento(agenda).subscribe(\r\n      response => {\r\n        console.log(response);\r\n        alert('Serviço agendado');\r\n        \r\n      },\r\n      error => {\r\n        console.log(error);\r\n        alert('Ocorreu um erro ao agendar');\r\n      }\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}